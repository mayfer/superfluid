<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Moire</title>

        <script type="text/javascript" src="GlslCanvas.js"></script>

        <style>
            body {
                background: #101515;
            }

            #glslCanvas {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%,-50%);
            }

        </style>

    </head>
    <body>
        <canvas id="glslCanvas" data-fragment="


#define PI 3.14159265359
#define TWO_PI 6.28318530718

#ifdef GL_ES
precision mediump float;
#endif

uniform vec2 u_resolution;
uniform float u_time;


float csin(float x) {
    return sin(sin(x));
}

float angle(vec2 st) {
    float angle = atan((st.y - 0.5)*2.0, (st.x - 0.5)*2.0);
    return angle;
}

float angle_percentage(float angle) {
    float ap = (1.0 + (angle / PI) ) / 2.0;
    return ap;
}

float zto_sin(float x) {
    return (sin(x) + 1.0)/2.0;
}

void main() {
	vec2 st = gl_FragCoord.xy/u_resolution.xy;
    vec2 ast = vec2(mod(gl_FragCoord.x, 300.)-150., mod(gl_FragCoord.y, 300.)-150.);
    float color = zto_sin(u_time + angle(ast) + (st.x-150.)*30.);
    
    vec3 colorvec = vec3(color + sin(st.x + u_time)/10., color, color + cos(st.x + u_time)/10.);
	gl_FragColor = vec4(colorvec, 1.0 );

}

" width="800" height="600"></canvas>
    </body>

    <script>
        var canvas = document.getElementById("glslCanvas");
        var sandbox = new GlslCanvas(canvas);
        var texCounter = 0;
        var sandbox_content = "";
        var sandbox_title = "";
        var sandbox_author = "";
        var sandbox_thumbnail = ""; 
        canvas.style.width = '100%';
        canvas.style.height = '100%';

    </script>
</html>
